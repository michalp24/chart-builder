<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Mobile Chart Debug</title>
    <style>
        /* Reset and mobile-first approach */
        * {
            box-sizing: border-box;
        }
        
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            overflow-x: hidden;
            font-family: system-ui, -apple-system, sans-serif;
            background: #f5f5f5;
        }
        
        /* Debug container to show viewport */
        .debug-info {
            position: fixed;
            top: 0;
            left: 0;
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 5px 10px;
            font-size: 12px;
            z-index: 1000;
        }
        
        /* Page wrapper */
        .page-wrapper {
            padding: 20px 0;
            min-height: 100vh;
        }
        
        /* Multiple container sizes for testing */
        .test-container {
            margin-bottom: 40px;
            padding: 0 10px;
        }
        
        .test-container h3 {
            text-align: center;
            margin-bottom: 10px;
            color: #333;
        }
        
        /* Container 1: Full width with margins */
        .responsive-container-1 {
            width: 100%;
            max-width: 600px;
            margin: 0 auto;
            position: relative;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            background: #ffffff;
            border: 2px solid #76B900; /* NVIDIA Green border for debugging */
        }
        
        .responsive-container-1::before {
            content: '';
            display: block;
            width: 100%;
            height: 0;
            padding-bottom: 66.67%;
        }
        
        .responsive-container-1 iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 0;
        }
        
        /* Container 2: Calc approach */
        .responsive-container-2 {
            width: calc(100% - 20px);
            max-width: 580px;
            margin: 0 auto;
            position: relative;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            background: #ffffff;
            border: 2px solid #ff6b6b; /* Red border for debugging */
        }
        
        .responsive-container-2::before {
            content: '';
            display: block;
            width: 100%;
            height: 0;
            padding-bottom: 66.67%;
        }
        
        .responsive-container-2 iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 0;
        }
        
        /* Container 3: Viewport-based */
        .responsive-container-3 {
            width: 100vw;
            max-width: 600px;
            margin: 0 auto;
            position: relative;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            background: #ffffff;
            border: 2px solid #4ecdc4; /* Teal border for debugging */
            transform: translateX(-50%);
            left: 50%;
        }
        
        .responsive-container-3::before {
            content: '';
            display: block;
            width: 100%;
            height: 0;
            padding-bottom: 66.67%;
        }
        
        .responsive-container-3 iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 0;
        }
        
        /* Mobile specific adjustments */
        @media (max-width: 768px) {
            .responsive-container-1,
            .responsive-container-2 {
                max-width: 100%;
                margin: 0 10px;
            }
            
            .test-container {
                padding: 0 5px;
            }
        }
        
        @media (max-width: 480px) {
            .responsive-container-1,
            .responsive-container-2 {
                margin: 0 5px;
                border-radius: 4px;
            }
            
            .responsive-container-3 {
                border-radius: 4px;
            }
        }
        
        @media (max-width: 360px) {
            .responsive-container-1,
            .responsive-container-2 {
                margin: 0 2px;
            }
        }
        
        /* Debug styles */
        .size-indicator {
            position: absolute;
            top: 5px;
            left: 5px;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 2px 6px;
            font-size: 10px;
            border-radius: 2px;
            z-index: 100;
        }
    </style>
</head>
<body>
    <div class="debug-info" id="debugInfo">
        Loading debug info...
    </div>

    <div class="page-wrapper">
        <h1 style="text-align: center; color: #333; margin-bottom: 40px;">Mobile Chart Container Debug</h1>
        
        <!-- Container 1: Standard approach -->
        <div class="test-container">
            <h3>Container 1: Standard Responsive (Green Border)</h3>
            <div class="responsive-container-1">
                <div class="size-indicator" id="size1">Loading...</div>
                <iframe src="https://chart-builder-one.vercel.app/embed/jxe6olo5m7h" title="Chart 1" loading="lazy"></iframe>
            </div>
        </div>
        
        <!-- Container 2: Calc approach -->
        <div class="test-container">
            <h3>Container 2: Calc Width (Red Border)</h3>
            <div class="responsive-container-2">
                <div class="size-indicator" id="size2">Loading...</div>
                <iframe src="https://chart-builder-one.vercel.app/embed/jxe6olo5m7h" title="Chart 2" loading="lazy"></iframe>
            </div>
        </div>
        
        <!-- Container 3: Viewport approach -->
        <div class="test-container">
            <h3>Container 3: Viewport Width (Teal Border)</h3>
            <div class="responsive-container-3">
                <div class="size-indicator" id="size3">Loading...</div>
                <iframe src="https://chart-builder-one.vercel.app/embed/jxe6olo5m7h" title="Chart 3" loading="lazy"></iframe>
            </div>
        </div>
        
        <!-- Instructions -->
        <div style="background: #fff; margin: 20px 10px; padding: 20px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
            <h3 style="color: #333; margin-top: 0;">üîç Debug Instructions</h3>
            <ul style="color: #666; line-height: 1.6;">
                <li><strong>Green Border:</strong> Standard responsive container</li>
                <li><strong>Red Border:</strong> Uses calc() for width calculation</li>
                <li><strong>Teal Border:</strong> Uses viewport width (100vw)</li>
                <li><strong>Top Debug Info:</strong> Shows viewport and container dimensions</li>
            </ul>
            <p style="color: #666;"><strong>Test:</strong> Resize your browser window or test on different devices to see which container works best without cutting off content.</p>
        </div>
    </div>

    <script>
        function updateDebugInfo() {
            const debugEl = document.getElementById('debugInfo');
            const size1El = document.getElementById('size1');
            const size2El = document.getElementById('size2');
            const size3El = document.getElementById('size3');
            
            const viewport = {
                width: window.innerWidth,
                height: window.innerHeight,
                devicePixelRatio: window.devicePixelRatio || 1
            };
            
            debugEl.textContent = `Viewport: ${viewport.width}√ó${viewport.height} | DPR: ${viewport.devicePixelRatio}`;
            
            // Get container sizes
            const containers = [
                document.querySelector('.responsive-container-1'),
                document.querySelector('.responsive-container-2'),
                document.querySelector('.responsive-container-3')
            ];
            
            containers.forEach((container, index) => {
                if (container) {
                    const rect = container.getBoundingClientRect();
                    const sizeEl = document.getElementById(`size${index + 1}`);
                    if (sizeEl) {
                        sizeEl.textContent = `${Math.round(rect.width)}√ó${Math.round(rect.height)}`;
                    }
                }
            });
        }
        
        // Update on load and resize
        window.addEventListener('load', updateDebugInfo);
        window.addEventListener('resize', updateDebugInfo);
        
        // Update periodically in case containers change
        setInterval(updateDebugInfo, 2000);
    </script>
</body>
</html>
